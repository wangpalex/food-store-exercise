{"remainingRequest":"/Users/wangpei/bt3103-week-4/node_modules/babel-loader/lib/index.js!/Users/wangpei/bt3103-week-4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangpei/bt3103-week-4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangpei/bt3103-week-4/src/components/Orders.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangpei/bt3103-week-4/src/components/Orders.vue","mtime":1614439734831},{"path":"/Users/wangpei/bt3103-week-4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangpei/bt3103-week-4/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangpei/bt3103-week-4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangpei/bt3103-week-4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICIvVXNlcnMvd2FuZ3BlaS9idDMxMDMtd2Vlay00L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGRiIGZyb20gIi4uL2ZpcmViYXNlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJPcmRlcnMiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcmRlcnM6IFtdLAogICAgICBhbGxJdGVtczogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaE9yZGVyczogZnVuY3Rpb24gZmV0Y2hPcmRlcnMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBkYi5jb2xsZWN0aW9uKCdvcmRlcnMnKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICAgIHNuYXBzaG90LmRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiTG9hZGVkIG9yZGVyIEluZm9ybWF0aW9uOiAiKTsKICAgICAgICAgIGNvbnNvbGUubG9nKFtkb2MuaWQsIGRvYy5kYXRhKCkuaXRlbXNdKTsKCiAgICAgICAgICBfdGhpcy5vcmRlcnMucHVzaCh7CiAgICAgICAgICAgIGlkOiBkb2MuaWQsCiAgICAgICAgICAgIGl0ZW1zOiBkb2MuZGF0YSgpLml0ZW1zCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMub3JkZXJzKTsKICAgIH0sCiAgICBsb2dPcmRlcnM6IGZ1bmN0aW9uIGxvZ09yZGVycygpIHsKICAgICAgY29uc29sZS5sb2coInRoaXMub3JkZXJzOiAiKTsKICAgICAgY29uc29sZS5sb2codGhpcy5vcmRlcnMpOwogICAgfSwKICAgIG9yZGVyU3RyaW5nOiBmdW5jdGlvbiBvcmRlclN0cmluZyhvcmRlcikgewogICAgICB2YXIgcyA9ICIiOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG9yZGVyKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIHMgKz0gaXRlbS5uYW1lICsgIjogIiArIGl0ZW0uY291bnQgKyAiPGJyPiI7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzOwogICAgfSwKICAgIGRlbGV0ZU9yZGVyOiBmdW5jdGlvbiBkZWxldGVPcmRlcihldmVudCkgewogICAgICB2YXIgZG9jX2lkID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnb3JkZXJJZCcpOwogICAgICBkYi5jb2xsZWN0aW9uKCdvcmRlcnMnKS5kb2MoZG9jX2lkKS5kZWxldGUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSk7CiAgICB9LAogICAgcm91dGU6IGZ1bmN0aW9uIHJvdXRlKGV2ZW50KSB7CiAgICAgIHZhciBkb2NfaWQgPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdvcmRlcklkJyk7CiAgICAgIGNvbnNvbGUubG9nKCJkb2NfaWQgYmVmb3JlIHJvdXRlOiIpOwogICAgICBjb25zb2xlLmxvZyhkb2NfaWQpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogIm1vZGlmeSIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBkb2NfaWQ6IGRvY19pZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICAvLyBMaWZlQ3ljbGUgaG9va3MKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaE9yZGVycygpOwogIH0KfTs="},{"version":3,"sources":["Orders.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAkBA,OAAA,EAAA,MAAA,aAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GARA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,WAAA,EAAA,uBAAA;AAAA;;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,QAAA,EAAA,GAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,4BAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,CAAA,GAAA,CAAA,EAAA,EAAA,GAAA,CAAA,IAAA,GAAA,KAAA,CAAA;;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA;AAAA,YAAA,EAAA,EAAA,GAAA,CAAA,EAAA;AAAA,YAAA,KAAA,EAAA,GAAA,CAAA,IAAA,GAAA;AAAA,WAAA;AACA,SAJA;AAKA,OANA;AAQA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,MAAA;AACA,KAXA;AAYA,IAAA,SAAA,EAAA,qBAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,eAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,MAAA;AACA,KAfA;AAgBA,IAAA,WAAA,EAAA,qBAAA,KAAA,EAAA;AACA,UAAA,CAAA,GAAA,EAAA;;AADA,iDAEA,KAFA;AAAA;;AAAA;AAEA,4DAAA;AAAA,cAAA,IAAA;AACA,UAAA,CAAA,IAAA,IAAA,CAAA,IAAA,GAAA,IAAA,GAAA,IAAA,CAAA,KAAA,GAAA,MAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;;AAKA,aAAA,CAAA;AACA,KAtBA;AAuBA,IAAA,WAAA,EAAA,qBAAA,KAAA,EAAA;AACA,UAAA,MAAA,GAAA,KAAA,CAAA,MAAA,CAAA,YAAA,CAAA,SAAA,CAAA;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,QAAA,EAAA,GAAA,CAAA,MAAA,EACA,MADA,GACA,IADA,CACA,YAAA;AAAA,QAAA,QAAA,CAAA,MAAA;AAAA,OADA;AAEA,KA3BA;AA4BA,IAAA,KA5BA,iBA4BA,KA5BA,EA4BA;AACA,UAAA,MAAA,GAAA,KAAA,CAAA,MAAA,CAAA,YAAA,CAAA,SAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,sBAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA,QAAA;AAAA,QAAA,MAAA,EAAA;AAAA,UAAA,MAAA,EAAA;AAAA;AAAA,OAAA;AACA;AAjCA,GAVA;AA+CA;AACA,EAAA,OAhDA,qBAgDA;AACA,SAAA,WAAA;AACA;AAlDA,CAAA","sourcesContent":["<template>\n<div>\n  <ul>\n    <li v-for=\"order in this.orders\" :key=\"order.id\">\n      <pre>{{orderString(order.items)}}</pre>\n\n      <button v-bind:orderId=\"order.id\"\n              @click=\"logOrders(); deleteOrder($event)\">\n        Delete </button>\n\n      <button v-bind:orderId=\"order.id\"\n              @click=\"route($event)\"> Modify </button>\n    </li>\n  </ul>\n</div>\n</template>\n\n<script>\nimport db from \"../firebase\"\n\nexport default {\n  name: \"Orders\",\n\n  data() {\n    return {\n      orders: [],\n      allItems:[],\n    }\n  },\n\n  methods: {\n    fetchOrders: function() {\n      db.collection('orders').get().then(snapshot => {\n        snapshot.docs.forEach(doc => {\n          console.log(\"Loaded order Information: \");\n          console.log([doc.id, doc.data().items]);\n          this.orders.push({id:doc.id, items:doc.data().items});\n        });\n      });\n\n      console.log(this.orders);\n    },\n    logOrders: function() {\n      console.log(\"this.orders: \");\n      console.log(this.orders);\n    },\n    orderString: function(order) {\n      let s = \"\"\n      for(let item of order) {\n        s += item.name + \": \" + item.count + \"<br>\"\n      }\n      return s\n    },\n    deleteOrder: function(event) {\n      let doc_id = event.target.getAttribute('orderId');\n      db.collection('orders').doc(doc_id)\n          .delete().then(()=>{location.reload()});\n    },\n    route(event) {\n      let doc_id = event.target.getAttribute('orderId');\n      console.log(\"doc_id before route:\");\n      console.log(doc_id);\n      this.$router.push({name:\"modify\", params: {doc_id: doc_id}});\n    }\n  },\n\n\n  // LifeCycle hooks\n  created() {\n    this.fetchOrders();\n  }\n}\n</script>\n\n<style scoped>\nul {\n  display: flex;\n  flex-wrap: wrap;\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  flex-grow: 1;\n  flex-basis: 300px;\n  text-align: center;\n  padding: 10px;\n  border: 1px solid #222;\n  margin: 10px;\n}\n\nbutton {\n  width: 65px;\n  height: 30px;\n  background-color: #f7cac9;\n  border-radius: 10px;\n  border-width: 1px;\n}\n</style>"],"sourceRoot":"src/components"}]}