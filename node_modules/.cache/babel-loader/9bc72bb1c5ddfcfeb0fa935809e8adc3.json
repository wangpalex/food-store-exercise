{"remainingRequest":"/Users/wangpei/bt3103-food-store-exercise/node_modules/thread-loader/dist/cjs.js!/Users/wangpei/bt3103-food-store-exercise/node_modules/babel-loader/lib/index.js!/Users/wangpei/bt3103-food-store-exercise/node_modules/eslint-loader/index.js??ref--13-0!/Users/wangpei/bt3103-food-store-exercise/src/components/Charts/BarChart.js","dependencies":[{"path":"/Users/wangpei/bt3103-food-store-exercise/src/components/Charts/BarChart.js","mtime":1615434609879},{"path":"/Users/wangpei/bt3103-food-store-exercise/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangpei/bt3103-food-store-exercise/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangpei/bt3103-food-store-exercise/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangpei/bt3103-food-store-exercise/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IEJhciB9IGZyb20gJ3Z1ZS1jaGFydGpzJzsKaW1wb3J0IGRhdGFiYXNlIGZyb20gJy4uLy4uL2ZpcmViYXNlLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIGV4dGVuZHM6IEJhciwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbUNvdW50OiB7fSwKICAgICAgZGF0YWNvbGxlY3Rpb246IHsKICAgICAgICBsYWJlbHM6IFtdLAogICAgICAgIGRhdGFzZXRzOiBbewogICAgICAgICAgbGFiZWw6ICIiLAogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBbIiMzZTk1Y2QiLCAiIzhlNWVhMiIsICIjM2NiYTlmIiwgIiNlOGMzYjkiLCAiI2M0NTg1MCIsICIjZTdhMjQwIl0sCiAgICAgICAgICBkYXRhOiBbXQogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIG9wdGlvbnM6IHsKICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgIGRpc3BsYXk6IGZhbHNlCiAgICAgICAgfSwKICAgICAgICB0aXRsZTogewogICAgICAgICAgZGlzcGxheTogdHJ1ZSwKICAgICAgICAgIHRleHQ6ICdUb3RhbCBudW1iZXIgb2YgZWFjaCBkaXNoJywKICAgICAgICAgIGZvbnRTaXplOiAyNAogICAgICAgIH0sCiAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSwKICAgICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiBmYWxzZSwKICAgICAgICBzY2FsZXM6IHsKICAgICAgICAgIHlBeGVzOiBbewogICAgICAgICAgICB0aWNrczogewogICAgICAgICAgICAgIG1pbjogMAogICAgICAgICAgICB9CiAgICAgICAgICB9XQogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoSXRlbXM6IGZ1bmN0aW9uIGZldGNoSXRlbXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBkYXRhYmFzZS5jb2xsZWN0aW9uKCdvcmRlcnMnKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChxdWVyeVNuYXBTaG90KSB7CiAgICAgICAgcXVlcnlTbmFwU2hvdC5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgIGRvYy5kYXRhKCkuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpZiAoIShpdGVtLm5hbWUgaW4gX3RoaXMuaXRlbUNvdW50KSkgewogICAgICAgICAgICAgIF90aGlzLml0ZW1Db3VudFtpdGVtLm5hbWVdID0gTnVtYmVyKGl0ZW0uY291bnQpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLml0ZW1Db3VudFtpdGVtLm5hbWVdICs9IE51bWJlcihpdGVtLmNvdW50KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgY29uc29sZS5sb2coIkl0ZW0gY291bnQ6ICIpOwogICAgICAgIGNvbnNvbGUubG9nKF90aGlzLml0ZW1Db3VudCk7CgogICAgICAgIGZvciAodmFyIGtleSBpbiBfdGhpcy5pdGVtQ291bnQpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGtleSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5pdGVtQ291bnRba2V5XSk7CgogICAgICAgICAgX3RoaXMuZGF0YWNvbGxlY3Rpb24ubGFiZWxzLnB1c2goa2V5KTsKCiAgICAgICAgICBfdGhpcy5kYXRhY29sbGVjdGlvbi5kYXRhc2V0c1swXS5kYXRhLnB1c2goX3RoaXMuaXRlbUNvdW50W2tleV0pOyAvL3RoaXMuZGF0YWNvbGxlY3Rpb24uZGF0YXNldHNbMF0uYmFja2dyb3VuZENvbG9yLnB1c2godGhpcy5pdGVtQ291bnRba2V5XSkKCiAgICAgICAgfQoKICAgICAgICBfdGhpcy5yZW5kZXJDaGFydChfdGhpcy5kYXRhY29sbGVjdGlvbiwgX3RoaXMub3B0aW9ucyk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hJdGVtcygpOwogIH0KfTs="},{"version":3,"sources":["/Users/wangpei/bt3103-food-store-exercise/src/components/Charts/BarChart.js"],"names":["Bar","database","extends","data","itemCount","datacollection","labels","datasets","label","backgroundColor","options","legend","display","title","text","fontSize","responsive","maintainAspectRatio","scales","yAxes","ticks","min","methods","fetchItems","collection","get","then","querySnapShot","forEach","doc","items","item","name","Number","count","console","log","key","push","renderChart","created"],"mappings":";;;;AAAA,SAASA,GAAT,QAAoB,aAApB;AACA,OAAOC,QAAP,MAAqB,mBAArB;AAEA,eAAe;AACXC,EAAAA,OAAO,EAAEF,GADE;AAEXG,EAAAA,IAAI,EAAE,gBAAY;AACd,WAAO;AACHC,MAAAA,SAAS,EAAE,EADR;AAGHC,MAAAA,cAAc,EAAE;AACZC,QAAAA,MAAM,EAAE,EADI;AAEZC,QAAAA,QAAQ,EAAE,CACN;AACIC,UAAAA,KAAK,EAAE,EADX;AAEIC,UAAAA,eAAe,EAAE,CAAC,SAAD,EAAY,SAAZ,EAAsB,SAAtB,EAAgC,SAAhC,EAA0C,SAA1C,EAAqD,SAArD,CAFrB;AAGIN,UAAAA,IAAI,EAAE;AAHV,SADM;AAFE,OAHb;AAaHO,MAAAA,OAAO,EAAE;AACLC,QAAAA,MAAM,EAAE;AAAEC,UAAAA,OAAO,EAAE;AAAX,SADH;AAELC,QAAAA,KAAK,EAAE;AACHD,UAAAA,OAAO,EAAE,IADN;AAEHE,UAAAA,IAAI,EAAE,2BAFH;AAGHC,UAAAA,QAAQ,EAAE;AAHP,SAFF;AAOLC,QAAAA,UAAU,EAAE,IAPP;AAQLC,QAAAA,mBAAmB,EAAE,KARhB;AASLC,QAAAA,MAAM,EAAC;AACHC,UAAAA,KAAK,EAAC,CAAC;AACHC,YAAAA,KAAK,EAAC;AAAEC,cAAAA,GAAG,EAAC;AAAN;AADH,WAAD;AADH;AATF;AAbN,KAAP;AA6BH,GAhCU;AAiCXC,EAAAA,OAAO,EAAE;AACLC,IAAAA,UAAU,EAAE,sBAAY;AAAA;;AACpBtB,MAAAA,QAAQ,CAACuB,UAAT,CAAoB,QAApB,EAA8BC,GAA9B,GAAoCC,IAApC,CAAyC,UAAAC,aAAa,EAAI;AACtDA,QAAAA,aAAa,CAACC,OAAd,CAAsB,UAAAC,GAAG,EAAI;AACzBA,UAAAA,GAAG,CAAC1B,IAAJ,GAAW2B,KAAX,CAAiBF,OAAjB,CAAyB,UAAAG,IAAI,EAAI;AAC7B,gBAAG,EAAEA,IAAI,CAACC,IAAL,IAAa,KAAI,CAAC5B,SAApB,CAAH,EAAmC;AAC/B,cAAA,KAAI,CAACA,SAAL,CAAe2B,IAAI,CAACC,IAApB,IAA4BC,MAAM,CAACF,IAAI,CAACG,KAAN,CAAlC;AACH,aAFD,MAEO;AACH,cAAA,KAAI,CAAC9B,SAAL,CAAe2B,IAAI,CAACC,IAApB,KAA6BC,MAAM,CAACF,IAAI,CAACG,KAAN,CAAnC;AACH;AACJ,WAND;AAOH,SARD;AASAC,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAI,CAAChC,SAAjB;;AACA,aAAI,IAAIiC,GAAR,IAAe,KAAI,CAACjC,SAApB,EAA+B;AAC3B+B,UAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACAF,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAI,CAAChC,SAAL,CAAeiC,GAAf,CAAZ;;AACA,UAAA,KAAI,CAAChC,cAAL,CAAoBC,MAApB,CAA2BgC,IAA3B,CAAgCD,GAAhC;;AACA,UAAA,KAAI,CAAChC,cAAL,CAAoBE,QAApB,CAA6B,CAA7B,EAAgCJ,IAAhC,CAAqCmC,IAArC,CAA0C,KAAI,CAAClC,SAAL,CAAeiC,GAAf,CAA1C,EAJ2B,CAK3B;;AACH;;AAED,QAAA,KAAI,CAACE,WAAL,CAAiB,KAAI,CAAClC,cAAtB,EAAsC,KAAI,CAACK,OAA3C;AACH,OArBD;AAsBH;AAxBI,GAjCE;AA2DX8B,EAAAA,OA3DW,qBA2DA;AACP,SAAKjB,UAAL;AACH;AA7DU,CAAf","sourcesContent":["import { Bar } from 'vue-chartjs'\nimport database from '../../firebase.js'\n\nexport default {\n    extends: Bar,\n    data: function () {\n        return {\n            itemCount: {},\n\n            datacollection: {\n                labels: [],\n                datasets: [\n                    {\n                        label: \"\",\n                        backgroundColor: [\"#3e95cd\", \"#8e5ea2\",\"#3cba9f\",\"#e8c3b9\",\"#c45850\", \"#e7a240\"],\n                        data: []\n                    },\n                ]\n            },\n            options: {\n                legend: { display: false },\n                title: {\n                    display: true,\n                    text: 'Total number of each dish',\n                    fontSize: 24\n                },\n                responsive: true,\n                maintainAspectRatio: false,\n                scales:{\n                    yAxes:[{\n                        ticks:{ min:0 }\n                    }],\n                }\n            }\n        }\n    },\n    methods: {\n        fetchItems: function () {\n            database.collection('orders').get().then(querySnapShot => {\n                querySnapShot.forEach(doc => {\n                    doc.data().items.forEach(item => {\n                        if(!(item.name in this.itemCount)) {\n                            this.itemCount[item.name] = Number(item.count)\n                        } else {\n                            this.itemCount[item.name] += Number(item.count)\n                        }\n                    })\n                })\n                console.log(\"Item count: \")\n                console.log(this.itemCount)\n                for(let key in this.itemCount) {\n                    console.log(key)\n                    console.log(this.itemCount[key])\n                    this.datacollection.labels.push(key)\n                    this.datacollection.datasets[0].data.push(this.itemCount[key])\n                    //this.datacollection.datasets[0].backgroundColor.push(this.itemCount[key])\n                }\n\n                this.renderChart(this.datacollection, this.options)\n            })\n        }\n    },\n    created () {\n        this.fetchItems()\n    }\n}"]}]}