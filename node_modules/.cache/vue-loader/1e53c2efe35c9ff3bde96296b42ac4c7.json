{"remainingRequest":"/Users/wangpei/bt3103-food-store-exercise/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangpei/bt3103-food-store-exercise/src/components/Orders.vue?vue&type=style&index=0&id=1a200e95&scoped=true&lang=css&","dependencies":[{"path":"/Users/wangpei/bt3103-food-store-exercise/src/components/Orders.vue","mtime":1614481914038},{"path":"/Users/wangpei/bt3103-food-store-exercise/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangpei/bt3103-food-store-exercise/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/wangpei/bt3103-food-store-exercise/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/wangpei/bt3103-food-store-exercise/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangpei/bt3103-food-store-exercise/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgp1bCB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LXdyYXA6IHdyYXA7CiAgbGlzdC1zdHlsZS10eXBlOiBub25lOwogIHBhZGRpbmc6IDA7Cn0KbGkgewogIGZsZXgtZ3JvdzogMTsKICBmbGV4LWJhc2lzOiAzMDBweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgcGFkZGluZzogMTBweDsKICBib3JkZXI6IDFweCBzb2xpZCAjMjIyOwogIG1hcmdpbjogMTBweDsKfQoKYnV0dG9uIHsKICB3aWR0aDogNjVweDsKICBoZWlnaHQ6IDMwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogI2Y3Y2FjOTsKICBib3JkZXItcmFkaXVzOiAxMHB4OwogIGJvcmRlci13aWR0aDogMXB4Owp9Cg=="},{"version":3,"sources":["Orders.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Orders.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div>\n  <ul>\n    <li v-for=\"order in this.orders\" :key=\"order.id\">\n      <!-- <pre>{{orderString(order.items)}}</pre> -->\n      <p v-for=\"item in order.items\" :key=\"item.name\">\n        {{item.name}}: {{item.count}}\n      </p>\n      \n      <button v-bind:orderId=\"order.id\"\n              @click=\"logOrders(); deleteOrder($event)\">\n        Delete </button>\n\n      <button v-bind:orderId=\"order.id\"\n              @click=\"route($event)\"> Modify </button>\n    </li>\n  </ul>\n</div>\n</template>\n\n<script>\nimport db from \"../firebase\"\n\nexport default {\n  name: \"Orders\",\n\n  data() {\n    return {\n      orders: [],\n      allItems:[],\n    }\n  },\n\n  methods: {\n    fetchOrders: function() {\n      db.collection('orders').get().then(snapshot => {\n        snapshot.docs.forEach(doc => {\n          console.log(\"Loaded order Information: \");\n          console.log([doc.id, doc.data().items]);\n          this.orders.push({id:doc.id, items:doc.data().items});\n        });\n      });\n\n      console.log(this.orders);\n    },\n    logOrders: function() {\n      console.log(\"this.orders: \");\n      console.log(this.orders);\n    },\n    orderString: function(order) {\n      let s = \"\"\n      for(let item of order) {\n        s += item.name + \": \" + item.count + \"\\n\"\n      }\n      return s\n    },\n    deleteOrder: function(event) {\n      let docRef = db.collection('orders').doc(event.target.getAttribute('orderId'));\n      docRef.delete().then(()=>{location.reload()});\n    },\n    route(event) {\n      let doc_id = event.target.getAttribute('orderId');\n      console.log(\"doc_id before route:\");\n      console.log(doc_id);\n      this.$router.push({name:\"modify\", params: {doc_id: doc_id}});\n    }\n  },\n\n\n  // LifeCycle hooks\n  created() {\n    this.fetchOrders();\n  }\n}\n</script>\n\n<style scoped>\nul {\n  display: flex;\n  flex-wrap: wrap;\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  flex-grow: 1;\n  flex-basis: 300px;\n  text-align: center;\n  padding: 10px;\n  border: 1px solid #222;\n  margin: 10px;\n}\n\nbutton {\n  width: 65px;\n  height: 30px;\n  background-color: #f7cac9;\n  border-radius: 10px;\n  border-width: 1px;\n}\n</style>"]}]}